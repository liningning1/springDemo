<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="userloginlist">
    <!-- 以下与实体类中的字段一样 -->
    <sql id="selectId">
      loginId,
      userId,
      userName,
      loginTime,
      loginIp
    </sql>
    <!-- select -->
    <select id="query" resultType="UserLoginList" parameterType="UserLoginList">
      select u.username,l.* from userloginlist l,user u
      <where>
         u.userId = l.userId
         <!-- and u.userId =#{userId}  -->
      </where>
    </select>
    <!-- 总页数 -->
    <select id="count" resultType="int" parameterType="UserLoginList">
      select count(0) from userloginlist
    </select>

    <!-- insert 新增用户登录记录  -->
    <insert id="add" parameterType="UserLoginList"> 
      insert into userloginlist(userId,loginIp)
      values(#{userId},#{loginIp})
    </insert>
</mapper>